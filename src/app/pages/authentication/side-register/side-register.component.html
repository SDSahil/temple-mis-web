<div class="p-32 d-flex align-items-start align-items-lg-center justify-content-left h-100">
    <div class="row p-32 w-100">
        <div class="col-lg-12 w-100">
            <h4 class="f-w-700 f-s-24 m-0">Welcome to Odisha Temple MIS</h4>
            <span class="f-s-12 d-block mat-body-1 m-t-8">Temple Event Booking System</span>
            <form class="m-t-30" [formGroup]="userForm" (ngSubmit)="onSubmit()">
                <div class="row" formGroupName="name">
                    <div class="col-lg-4">
                        <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">First Name*</mat-label>
                        <mat-form-field appearance="outline" class="w-100" color="primary">
                            <input matInput formControlName="firstName" />
                            <mat-hint *ngIf="fname['firstName'].touched && fname['firstName'].invalid" class="m-b-16 error-msg">
                                <div class="text-error" *ngIf="fname['firstName'].errors">
                                    <ng-container *ngIf="fname['firstName'].errors['required']; else invalidFname">First Name is required.</ng-container>
                                    <ng-template #invalidFname>Invalid First Name</ng-template>
                                </div>
                            </mat-hint>
                        </mat-form-field>
                    </div>
                    <div class="col-lg-4">
                        <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">Middle Name</mat-label>
                        <mat-form-field appearance="outline" class="w-100" color="primary">
                            <input matInput formControlName="middleName" />
                            <mat-hint *ngIf="fname['middleName'].touched && fname['middleName'].invalid" class="m-b-16 error-msg">
                                <div class="text-error" *ngIf="fname['middleName'].errors">Invalid Middle Name</div>
                            </mat-hint>
                        </mat-form-field>
                    </div>
                    <div class="col-lg-4">
                        <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">Last Name*</mat-label>
                        <mat-form-field appearance="outline" class="w-100" color="primary">
                            <input matInput formControlName="lastName" />
                            <mat-hint *ngIf="fname['lastName'].touched && fname['lastName'].invalid" class="m-b-16 error-msg">
                                <div class="text-error" *ngIf="fname['lastName'].errors">
                                    <ng-container *ngIf="fname['lastName'].errors['required']; else invalidLname">Last Name is required.</ng-container>
                                    <ng-template #invalidLname>Invalid Last Name</ng-template>
                                </div>
                            </mat-hint>
                        </mat-form-field>
                    </div>

                </div>
                <div class="row">
                    <div class="col-lg-6">
                        <!-- email -->
                        <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">Email Address</mat-label>
                        <mat-form-field appearance="outline" class="w-100" color="primary">
                            <input matInput formControlName="email" />
                            <mat-hint *ngIf="f['email'].touched && f['email'].invalid" class="m-b-16 error-msg">
                                <div class="text-error" *ngIf="f['email'].errors">Invalid email</div>
                            </mat-hint>
                        </mat-form-field>
                    </div>
                    <div class="col-lg-6">
                        <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">Phone*</mat-label>
                        <mat-form-field appearance="outline" class="w-100" color="primary">
                            <input matInput formControlName="phone" (keyup)="checkPhone($event)" />
                            <mat-hint *ngIf="f['phone'].touched && f['phone'].invalid" class="m-b-16 error-msg">
                                <div class="text-error">
                                    <ng-container *ngIf="f['phone'].errors?.['required']">Phone is required.</ng-container>
                                    <ng-container *ngIf="f['phone'].errors?.['pattern']">Phone must be 10 non-common digits</ng-container>
                                    <ng-container *ngIf="f['phone'].errors?.['isPhoneExists']">Already Existing</ng-container>
                                </div>
                            </mat-hint>
                        </mat-form-field>
                    </div>

                </div>
                <div class="row">
                    <div class="col-lg-6">
                        <!-- password -->
                        <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">Password*</mat-label>
                        <!-- Password input with validation -->
                        <mat-form-field appearance="outline" style="width: 100%" color="primary">
                            <mat-pass-toggle-visibility #toggle matSuffix></mat-pass-toggle-visibility>
                            <input matInput #passwordWithValidation placeholder="Password" class="pswd-ext-prevent" [type]="toggle.type" formControlName="password" (focusin)="pswdHintHandler()" (focusout)="pswdHintHandler()" />
                            <mat-hint>{{ passwordWithValidation.value.length }} / 25</mat-hint>
                        </mat-form-field>
                        <ng-container *ngIf="showPswdHint">
                            <mat-password-strength #pswdStrengthComponent [password]="passwordWithValidation.value"></mat-password-strength>
                            <mat-password-strength-info [passwordComponent]="pswdStrengthComponent"></mat-password-strength-info>
                        </ng-container>
                    </div>
                    <div class="col-lg-6">
                        <!-- password confirm -->
                        <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">Password Confirmation*</mat-label>
                        <mat-form-field appearance="outline" class="w-100" color="primary">
                            <input matInput formControlName="rePassword" />
                            <mat-hint class="error-msg" *ngIf="f['password'].dirty && f['rePassword'].dirty">
                                <div [class]="'text-'+(userForm.errors?.['misMatch'] ? 'error' : 'ongoing')">
                                    {{ userForm.errors?.['misMatch'] ? 'Password did not Match': 'Password Match Successfully' }}
                                </div>
                            </mat-hint>
                        </mat-form-field>
                    </div>

                </div>

                <button mat-flat-button color="primary" class="w-100 m-t-10" [disabled]="userForm.invalid || isLoading">Sign Up</button>
            </form>
            <span class="d-block f-w-500 d-block m-t-24">Already have an Account?&nbsp;
                <a [routerLink]="['/authentication/side-login']"
                    class="text-decoration-none text-primary f-w-500 f-s-14">Sign In</a>
            </span>
        </div>
    </div>
</div>